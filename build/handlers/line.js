"use strict";var _tool=_interopRequireDefault(require("./tool"));Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.LINE=void 0;function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _objectSpread(a){for(var b=1;b<arguments.length;b++){var c=null==arguments[b]?{}:arguments[b],d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_defineProperty(a,b,c[b])})}return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var LINE="Line";exports.LINE="Line";var line=_objectSpread({},_tool.default);line.name="Line",line.onMouseDown=function(a,b){this.ctx.strokeStyle="#ff0000",this.setInitSettings({start:a,options:b}),this.state.data||(this.state.firstMouseDown=a,this.state.data=[])},line.onMouseMove=function(a){this.state&&this.state.started&&(this.ctx.putImageData(this.imageData,0,0),this.draw(this.state.start,a))},line.onMouseUp=function(a,b){if(this.state&&(this.state.data.push([a.x,a.y]),1<this.state.data.length)){var c=[[this.state.firstMouseDown.x,this.state.firstMouseDown.y],[a.x,a.y]],d=this.state.start,e=this.state.options;return this.resetState(),b(),{data:c,canvas:{start:d,end:a,options:e}}}// NOTE: This state data is just to avoid draw in
// the first mouse up
};var _default=line;exports.default=_default;